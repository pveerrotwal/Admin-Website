{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst guards_js_1 = require(\"../app/guards.js\");\nconst utils_js_1 = require(\"../utils.js\");\nconst messages_gen_js_1 = require(\"../app/messages.gen.js\");\nconst input_js_1 = require(\"./input.js\");\nconst finder_1 = require(\"@medv/finder\");\nfunction _getSelector(target, document, options) {\n  const selector = (0, finder_1.finder)(target, {\n    root: document.body,\n    seedMinLength: 3,\n    optimizedMinLength: (options === null || options === void 0 ? void 0 : options.minSelectorDepth) || 2,\n    threshold: (options === null || options === void 0 ? void 0 : options.nthThreshold) || 1000,\n    maxNumberOfTries: (options === null || options === void 0 ? void 0 : options.maxOptimiseTries) || 10000\n  });\n  return selector;\n}\nfunction isClickable(element) {\n  const tag = element.tagName.toUpperCase();\n  return tag === 'BUTTON' || tag === 'A' || tag === 'LI' || tag === 'SELECT' || tag === 'TR' || tag === 'TH' || element.onclick != null || element.getAttribute('role') === 'button';\n  //|| element.className.includes(\"btn\")\n  // MBTODO: intercept addEventListener\n}\n//TODO: fix (typescript is not sure about target variable after assignation of svg)\nfunction getTarget(target, document) {\n  if (target instanceof Element) {\n    return _getTarget(target, document);\n  }\n  return null;\n}\nfunction _getTarget(target, document) {\n  let element = target;\n  while (element !== null && element !== document.documentElement) {\n    if ((0, utils_js_1.hasOpenreplayAttribute)(element, 'masked')) {\n      return null;\n    }\n    element = element.parentElement;\n  }\n  if ((0, guards_js_1.isSVGElement)(target)) {\n    let owner = target.ownerSVGElement;\n    while (owner !== null) {\n      target = owner;\n      owner = owner.ownerSVGElement;\n    }\n  }\n  element = target;\n  while (element !== null && element !== document.documentElement) {\n    const tag = element.tagName.toUpperCase();\n    if (tag === 'LABEL') {\n      return null;\n    }\n    if (tag === 'INPUT') {\n      return element;\n    }\n    if (isClickable(element) || (0, utils_js_1.getLabelAttribute)(element) !== null) {\n      return element;\n    }\n    element = element.parentElement;\n  }\n  return target === document.documentElement ? null : target;\n}\nfunction default_1(app, options) {\n  const {\n    disableClickmaps = false\n  } = options || {};\n  function getTargetLabel(target) {\n    const dl = (0, utils_js_1.getLabelAttribute)(target);\n    if (dl !== null) {\n      return dl;\n    }\n    if ((0, guards_js_1.hasTag)(target, 'input')) {\n      return (0, input_js_1.getInputLabel)(target);\n    }\n    if (isClickable(target)) {\n      let label = '';\n      if (target instanceof HTMLElement) {\n        label = app.sanitizer.getInnerTextSecure(target);\n      }\n      label = label || target.id || target.className;\n      return (0, utils_js_1.normSpaces)(label).slice(0, 100);\n    }\n    return '';\n  }\n  let mousePositionX = -1;\n  let mousePositionY = -1;\n  let mousePositionChanged = false;\n  let mouseTarget = null;\n  let mouseTargetTime = 0;\n  let selectorMap = {};\n  let velocity = 0;\n  let direction = 0;\n  let directionChangeCount = 0;\n  let distance = 0;\n  let checkIntervalId;\n  const shakeThreshold = 0.008;\n  const shakeCheckInterval = 225;\n  function checkMouseShaking() {\n    const nextVelocity = distance / shakeCheckInterval;\n    if (!velocity) {\n      velocity = nextVelocity;\n      return;\n    }\n    const acceleration = (nextVelocity - velocity) / shakeCheckInterval;\n    if (directionChangeCount > 4 && acceleration > shakeThreshold) {\n      app.send((0, messages_gen_js_1.MouseThrashing)((0, utils_js_1.now)()));\n    }\n    distance = 0;\n    directionChangeCount = 0;\n    velocity = nextVelocity;\n  }\n  app.attachStartCallback(() => {\n    checkIntervalId = setInterval(() => checkMouseShaking(), shakeCheckInterval);\n  });\n  app.attachStopCallback(() => {\n    mousePositionX = -1;\n    mousePositionY = -1;\n    mousePositionChanged = false;\n    mouseTarget = null;\n    selectorMap = {};\n    if (checkIntervalId) {\n      clearInterval(checkIntervalId);\n    }\n  });\n  const sendMouseMove = () => {\n    if (mousePositionChanged) {\n      app.send((0, messages_gen_js_1.MouseMove)(mousePositionX, mousePositionY));\n      mousePositionChanged = false;\n    }\n  };\n  const patchDocument = (document, topframe = false) => {\n    function getSelector(id, target, options) {\n      return selectorMap[id] = selectorMap[id] || _getSelector(target, document, options);\n    }\n    const attachListener = topframe ? app.attachEventListener.bind(app) // attached/removed on start/stop\n    : app.nodes.attachNodeListener.bind(app.nodes); // attached/removed on node register/unregister\n    attachListener(document.documentElement, 'mouseover', e => {\n      const target = getTarget(e.target, document);\n      if (target !== mouseTarget) {\n        mouseTarget = target;\n        mouseTargetTime = performance.now();\n      }\n    });\n    attachListener(document, 'mousemove', e => {\n      const [left, top] = app.observer.getDocumentOffset(document); // MBTODO?: document-id related message\n      mousePositionX = e.clientX + left;\n      mousePositionY = e.clientY + top;\n      mousePositionChanged = true;\n      const nextDirection = Math.sign(e.movementX);\n      distance += Math.abs(e.movementX) + Math.abs(e.movementY);\n      if (nextDirection !== direction) {\n        direction = nextDirection;\n        directionChangeCount++;\n      }\n    }, false);\n    attachListener(document, 'click', e => {\n      const target = getTarget(e.target, document);\n      if (!e.clientX && !e.clientY || target === null) {\n        return;\n      }\n      const id = app.nodes.getID(target);\n      if (id !== undefined) {\n        sendMouseMove();\n        app.send((0, messages_gen_js_1.MouseClick)(id, mouseTarget === target ? Math.round(performance.now() - mouseTargetTime) : 0, getTargetLabel(target), isClickable(target) && !disableClickmaps ? getSelector(id, target, options) : ''), true);\n      }\n      mouseTarget = null;\n    });\n  };\n  app.nodes.attachNodeCallback(node => {\n    if ((0, guards_js_1.isDocument)(node)) {\n      patchDocument(node);\n    }\n  });\n  patchDocument(document, true);\n  app.ticker.attach(sendMouseMove, (options === null || options === void 0 ? void 0 : options.trackingOffset) || 7);\n}\nexports.default = default_1;","map":{"version":3,"names":["Object","defineProperty","exports","value","guards_js_1","require","utils_js_1","messages_gen_js_1","input_js_1","finder_1","_getSelector","target","document","options","selector","finder","root","body","seedMinLength","optimizedMinLength","minSelectorDepth","threshold","nthThreshold","maxNumberOfTries","maxOptimiseTries","isClickable","element","tag","tagName","toUpperCase","onclick","getAttribute","getTarget","Element","_getTarget","documentElement","hasOpenreplayAttribute","parentElement","isSVGElement","owner","ownerSVGElement","getLabelAttribute","default_1","app","disableClickmaps","getTargetLabel","dl","hasTag","getInputLabel","label","HTMLElement","sanitizer","getInnerTextSecure","id","className","normSpaces","slice","mousePositionX","mousePositionY","mousePositionChanged","mouseTarget","mouseTargetTime","selectorMap","velocity","direction","directionChangeCount","distance","checkIntervalId","shakeThreshold","shakeCheckInterval","checkMouseShaking","nextVelocity","acceleration","send","MouseThrashing","now","attachStartCallback","setInterval","attachStopCallback","clearInterval","sendMouseMove","MouseMove","patchDocument","topframe","getSelector","attachListener","attachEventListener","bind","nodes","attachNodeListener","e","performance","left","top","observer","getDocumentOffset","clientX","clientY","nextDirection","Math","sign","movementX","abs","movementY","getID","undefined","MouseClick","round","attachNodeCallback","node","isDocument","ticker","attach","trackingOffset","default"],"sources":["/Users/paramvirrotwal/Observability/website-admin-react-web-app-project/node_modules/@openreplay/tracker/cjs/modules/mouse.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst guards_js_1 = require(\"../app/guards.js\");\nconst utils_js_1 = require(\"../utils.js\");\nconst messages_gen_js_1 = require(\"../app/messages.gen.js\");\nconst input_js_1 = require(\"./input.js\");\nconst finder_1 = require(\"@medv/finder\");\nfunction _getSelector(target, document, options) {\n    const selector = (0, finder_1.finder)(target, {\n        root: document.body,\n        seedMinLength: 3,\n        optimizedMinLength: (options === null || options === void 0 ? void 0 : options.minSelectorDepth) || 2,\n        threshold: (options === null || options === void 0 ? void 0 : options.nthThreshold) || 1000,\n        maxNumberOfTries: (options === null || options === void 0 ? void 0 : options.maxOptimiseTries) || 10000,\n    });\n    return selector;\n}\nfunction isClickable(element) {\n    const tag = element.tagName.toUpperCase();\n    return (tag === 'BUTTON' ||\n        tag === 'A' ||\n        tag === 'LI' ||\n        tag === 'SELECT' ||\n        tag === 'TR' ||\n        tag === 'TH' ||\n        element.onclick != null ||\n        element.getAttribute('role') === 'button');\n    //|| element.className.includes(\"btn\")\n    // MBTODO: intercept addEventListener\n}\n//TODO: fix (typescript is not sure about target variable after assignation of svg)\nfunction getTarget(target, document) {\n    if (target instanceof Element) {\n        return _getTarget(target, document);\n    }\n    return null;\n}\nfunction _getTarget(target, document) {\n    let element = target;\n    while (element !== null && element !== document.documentElement) {\n        if ((0, utils_js_1.hasOpenreplayAttribute)(element, 'masked')) {\n            return null;\n        }\n        element = element.parentElement;\n    }\n    if ((0, guards_js_1.isSVGElement)(target)) {\n        let owner = target.ownerSVGElement;\n        while (owner !== null) {\n            target = owner;\n            owner = owner.ownerSVGElement;\n        }\n    }\n    element = target;\n    while (element !== null && element !== document.documentElement) {\n        const tag = element.tagName.toUpperCase();\n        if (tag === 'LABEL') {\n            return null;\n        }\n        if (tag === 'INPUT') {\n            return element;\n        }\n        if (isClickable(element) || (0, utils_js_1.getLabelAttribute)(element) !== null) {\n            return element;\n        }\n        element = element.parentElement;\n    }\n    return target === document.documentElement ? null : target;\n}\nfunction default_1(app, options) {\n    const { disableClickmaps = false } = options || {};\n    function getTargetLabel(target) {\n        const dl = (0, utils_js_1.getLabelAttribute)(target);\n        if (dl !== null) {\n            return dl;\n        }\n        if ((0, guards_js_1.hasTag)(target, 'input')) {\n            return (0, input_js_1.getInputLabel)(target);\n        }\n        if (isClickable(target)) {\n            let label = '';\n            if (target instanceof HTMLElement) {\n                label = app.sanitizer.getInnerTextSecure(target);\n            }\n            label = label || target.id || target.className;\n            return (0, utils_js_1.normSpaces)(label).slice(0, 100);\n        }\n        return '';\n    }\n    let mousePositionX = -1;\n    let mousePositionY = -1;\n    let mousePositionChanged = false;\n    let mouseTarget = null;\n    let mouseTargetTime = 0;\n    let selectorMap = {};\n    let velocity = 0;\n    let direction = 0;\n    let directionChangeCount = 0;\n    let distance = 0;\n    let checkIntervalId;\n    const shakeThreshold = 0.008;\n    const shakeCheckInterval = 225;\n    function checkMouseShaking() {\n        const nextVelocity = distance / shakeCheckInterval;\n        if (!velocity) {\n            velocity = nextVelocity;\n            return;\n        }\n        const acceleration = (nextVelocity - velocity) / shakeCheckInterval;\n        if (directionChangeCount > 4 && acceleration > shakeThreshold) {\n            app.send((0, messages_gen_js_1.MouseThrashing)((0, utils_js_1.now)()));\n        }\n        distance = 0;\n        directionChangeCount = 0;\n        velocity = nextVelocity;\n    }\n    app.attachStartCallback(() => {\n        checkIntervalId = setInterval(() => checkMouseShaking(), shakeCheckInterval);\n    });\n    app.attachStopCallback(() => {\n        mousePositionX = -1;\n        mousePositionY = -1;\n        mousePositionChanged = false;\n        mouseTarget = null;\n        selectorMap = {};\n        if (checkIntervalId) {\n            clearInterval(checkIntervalId);\n        }\n    });\n    const sendMouseMove = () => {\n        if (mousePositionChanged) {\n            app.send((0, messages_gen_js_1.MouseMove)(mousePositionX, mousePositionY));\n            mousePositionChanged = false;\n        }\n    };\n    const patchDocument = (document, topframe = false) => {\n        function getSelector(id, target, options) {\n            return (selectorMap[id] = selectorMap[id] || _getSelector(target, document, options));\n        }\n        const attachListener = topframe\n            ? app.attachEventListener.bind(app) // attached/removed on start/stop\n            : app.nodes.attachNodeListener.bind(app.nodes); // attached/removed on node register/unregister\n        attachListener(document.documentElement, 'mouseover', (e) => {\n            const target = getTarget(e.target, document);\n            if (target !== mouseTarget) {\n                mouseTarget = target;\n                mouseTargetTime = performance.now();\n            }\n        });\n        attachListener(document, 'mousemove', (e) => {\n            const [left, top] = app.observer.getDocumentOffset(document); // MBTODO?: document-id related message\n            mousePositionX = e.clientX + left;\n            mousePositionY = e.clientY + top;\n            mousePositionChanged = true;\n            const nextDirection = Math.sign(e.movementX);\n            distance += Math.abs(e.movementX) + Math.abs(e.movementY);\n            if (nextDirection !== direction) {\n                direction = nextDirection;\n                directionChangeCount++;\n            }\n        }, false);\n        attachListener(document, 'click', (e) => {\n            const target = getTarget(e.target, document);\n            if ((!e.clientX && !e.clientY) || target === null) {\n                return;\n            }\n            const id = app.nodes.getID(target);\n            if (id !== undefined) {\n                sendMouseMove();\n                app.send((0, messages_gen_js_1.MouseClick)(id, mouseTarget === target ? Math.round(performance.now() - mouseTargetTime) : 0, getTargetLabel(target), isClickable(target) && !disableClickmaps ? getSelector(id, target, options) : ''), true);\n            }\n            mouseTarget = null;\n        });\n    };\n    app.nodes.attachNodeCallback((node) => {\n        if ((0, guards_js_1.isDocument)(node)) {\n            patchDocument(node);\n        }\n    });\n    patchDocument(document, true);\n    app.ticker.attach(sendMouseMove, (options === null || options === void 0 ? void 0 : options.trackingOffset) || 7);\n}\nexports.default = default_1;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}