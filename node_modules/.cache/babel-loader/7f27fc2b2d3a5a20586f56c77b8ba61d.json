{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst styles = __importStar(require(\"./styles.js\"));\nconst recorder_js_1 = __importStar(require(\"./recorder.js\"));\nconst dnd_js_1 = __importDefault(require(\"./dnd.js\"));\nconst utils_js_1 = require(\"./utils.js\");\nconst SignalManager_js_1 = __importDefault(require(\"./SignalManager.js\"));\nclass UserTestManager {\n  constructor(app, storageKey) {\n    this.app = app;\n    this.storageKey = storageKey;\n    this.bg = (0, utils_js_1.createElement)('div', 'bg', styles.bgStyle, undefined, '__or_ut_bg');\n    this.container = (0, utils_js_1.createElement)('div', 'container', styles.containerStyle, undefined, '__or_ut_ct');\n    this.widgetGuidelinesVisible = true;\n    this.widgetTasksVisible = false;\n    this.widgetVisible = true;\n    this.isActive = false;\n    this.descriptionSection = null;\n    this.taskSection = null;\n    this.endSection = null;\n    this.stopButton = null;\n    this.stopButtonContainer = null;\n    this.test = null;\n    this.testId = null;\n    this.signalManager = null;\n    this.getTest = (id, token, inProgress) => {\n      this.testId = id;\n      const ingest = this.app.options.ingestPoint;\n      return fetch(`${ingest}/v1/web/uxt/test/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => res.json()).then(({\n        test\n      }) => {\n        this.isActive = true;\n        this.test = test;\n        this.signalManager = new SignalManager_js_1.default(this.app.options.ingestPoint, () => this.app.timestamp(), token, id, this.storageKey, (k, v) => this.app.localStorage.setItem(k, v), k => this.app.localStorage.removeItem(k), k => this.app.localStorage.getItem(k), () => this.app.getSessionID());\n        this.createGreeting(test.title, test.reqMic, test.reqCamera);\n        if (inProgress) {\n          if (test.reqMic || test.reqCamera) {\n            void this.userRecorder.startRecording(30, recorder_js_1.Quality.Standard, test.reqMic, test.reqCamera);\n          }\n          this.showWidget(test.description, test.tasks, true);\n          this.showTaskSection();\n        }\n      }).then(() => id).catch(err => {\n        console.log('OR: Error fetching test', err);\n      });\n    };\n    this.hideTaskSection = () => false;\n    this.showTaskSection = () => true;\n    this.collapseWidget = () => false;\n    this.removeGreeting = () => false;\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    this.toggleDescriptionVisibility = () => {};\n    this.currentTaskIndex = 0;\n    this.userRecorder = new recorder_js_1.default(app);\n    const sessionId = this.app.getSessionID();\n    const savedSessionId = this.app.localStorage.getItem(utils_js_1.SESSION_ID);\n    if (sessionId !== savedSessionId) {\n      this.app.localStorage.removeItem(this.storageKey);\n      this.app.localStorage.removeItem(utils_js_1.SESSION_ID);\n      this.app.localStorage.removeItem(utils_js_1.TEST_ID);\n      this.app.localStorage.removeItem(utils_js_1.TASK_IND);\n      this.app.localStorage.removeItem(utils_js_1.TEST_START);\n    }\n    const taskIndex = this.app.localStorage.getItem(utils_js_1.TASK_IND);\n    if (taskIndex) {\n      this.currentTaskIndex = parseInt(taskIndex, 10);\n    }\n  }\n  getTestId() {\n    return this.testId;\n  }\n  createGreeting(title, micRequired, cameraRequired) {\n    const titleElement = (0, utils_js_1.createElement)('div', 'title', styles.titleStyle, title);\n    const descriptionElement = (0, utils_js_1.createElement)('div', 'description', styles.descriptionStyle, `Welcome, you're here to help us improve, not to be judged. Your insights matter!\\n\nðŸ“¹ We're recording this browser tab to learn from your experience.\nðŸŽ¤ Please enable mic and camera if asked, to give us a complete picture.`);\n    const buttonElement = (0, utils_js_1.createElement)('div', 'button', styles.buttonStyle, 'Read guidelines to begin');\n    this.removeGreeting = () => {\n      // this.container.innerHTML = ''\n      if (micRequired || cameraRequired) {\n        void this.userRecorder.startRecording(30, recorder_js_1.Quality.Standard, micRequired, cameraRequired);\n      }\n      this.container.removeChild(buttonElement);\n      this.container.removeChild(descriptionElement);\n      this.container.removeChild(titleElement);\n      return false;\n    };\n    buttonElement.onclick = () => {\n      var _a, _b, _c, _d;\n      this.removeGreeting();\n      const durations = (_a = this.signalManager) === null || _a === void 0 ? void 0 : _a.getDurations();\n      if (durations && this.signalManager) {\n        durations.testStart = this.app.timestamp();\n        this.signalManager.setDurations(durations);\n      }\n      void ((_b = this.signalManager) === null || _b === void 0 ? void 0 : _b.signalTest('begin'));\n      this.container.style.fontFamily = `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`;\n      Object.assign(this.container.style, styles.containerWidgetStyle);\n      this.showWidget(((_c = this.test) === null || _c === void 0 ? void 0 : _c.guidelines) || '', ((_d = this.test) === null || _d === void 0 ? void 0 : _d.tasks) || []);\n    };\n    this.container.append(titleElement, descriptionElement, buttonElement);\n    this.bg.appendChild(this.container);\n    document.body.appendChild(this.bg);\n  }\n  showWidget(guidelines, tasks, inProgress) {\n    this.container.innerHTML = '';\n    Object.assign(this.bg.style, {\n      position: 'fixed',\n      zIndex: 99999999999999,\n      right: '8px',\n      left: 'unset',\n      width: 'fit-content',\n      top: '8px',\n      height: 'fit-content',\n      background: 'unset',\n      display: 'unset',\n      alignItems: 'unset',\n      justifyContent: 'unset'\n    });\n    // Create title section\n    const titleSection = this.createTitleSection();\n    this.container.style.fontFamily = `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`;\n    Object.assign(this.container.style, styles.containerWidgetStyle);\n    const descriptionSection = this.createDescriptionSection(guidelines);\n    const tasksSection = this.createTasksSection(tasks);\n    const stopButton = (0, utils_js_1.createElement)('div', 'stop_bn_or', styles.stopWidgetStyle, 'Abort Session');\n    const stopContainer = (0, utils_js_1.createElement)('div', 'stop_ct_or', {\n      fontSize: '13px!important'\n    });\n    stopContainer.style.fontSize = '13px';\n    stopContainer.append(stopButton);\n    this.container.append(titleSection, descriptionSection, tasksSection, stopContainer);\n    this.taskSection = tasksSection;\n    this.descriptionSection = descriptionSection;\n    this.stopButton = stopButton;\n    this.stopButtonContainer = stopContainer;\n    stopButton.onclick = () => {\n      var _a;\n      this.userRecorder.discard();\n      void ((_a = this.signalManager) === null || _a === void 0 ? void 0 : _a.signalTest('skipped'));\n      document.body.removeChild(this.bg);\n      window.close();\n    };\n    if (!inProgress) {\n      this.hideTaskSection();\n    } else {\n      this.toggleDescriptionVisibility();\n    }\n  }\n  createTitleSection() {\n    var _a;\n    const title = (0, utils_js_1.createElement)('div', 'title', styles.titleWidgetStyle);\n    const leftIcon = (0, utils_js_1.generateGrid)();\n    const titleText = (0, utils_js_1.createElement)('div', 'title_text', {\n      maxWidth: '19rem',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      width: '100%',\n      fontSize: 16,\n      lineHeight: 'auto',\n      cursor: 'pointer'\n    }, (_a = this.test) === null || _a === void 0 ? void 0 : _a.title);\n    const rightIcon = (0, utils_js_1.generateChevron)();\n    title.append(leftIcon, titleText, rightIcon);\n    const toggleWidget = isVisible => {\n      this.widgetVisible = isVisible;\n      this.container.style.fontFamily = `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`;\n      Object.assign(this.container.style, this.widgetVisible ? styles.containerWidgetStyle : {\n        border: 'none',\n        background: 'none',\n        padding: 0\n      });\n      if (this.taskSection) {\n        Object.assign(this.taskSection.style, this.widgetVisible ? styles.descriptionWidgetStyle : {\n          display: 'none'\n        });\n      }\n      if (this.descriptionSection) {\n        Object.assign(this.descriptionSection.style, this.widgetVisible ? styles.descriptionWidgetStyle : {\n          display: 'none'\n        });\n      }\n      if (this.endSection) {\n        Object.assign(this.endSection.style, this.widgetVisible ? styles.descriptionWidgetStyle : {\n          display: 'none'\n        });\n      }\n      if (this.stopButton) {\n        Object.assign(this.stopButton.style, this.widgetVisible ? styles.stopWidgetStyle : {\n          display: 'none'\n        });\n      }\n      return isVisible;\n    };\n    const collapseWidget = () => {\n      Object.assign(rightIcon.style, {\n        transform: this.widgetVisible ? 'rotate(0deg)' : 'rotate(180deg)'\n      });\n      toggleWidget(!this.widgetVisible);\n    };\n    titleText.onclick = collapseWidget;\n    rightIcon.onclick = collapseWidget;\n    (0, dnd_js_1.default)(this.bg, leftIcon);\n    this.collapseWidget = () => toggleWidget(false);\n    return title;\n  }\n  createDescriptionSection(guidelines) {\n    const section = (0, utils_js_1.createElement)('div', 'description_section_or', styles.descriptionWidgetStyle);\n    const titleContainer = (0, utils_js_1.createElement)('div', 'description_s_title_or', styles.sectionTitleStyle);\n    const title = (0, utils_js_1.createElement)('div', 'title', {\n      fontSize: 13,\n      fontWeight: 500,\n      lineHeight: 'auto'\n    }, 'Introduction & Guidelines');\n    const icon = (0, utils_js_1.createElement)('div', 'icon', styles.symbolIcon, '-');\n    const content = (0, utils_js_1.createElement)('div', 'content', styles.contentStyle);\n    const descriptionC = (0, utils_js_1.createElement)('div', 'text_description', {\n      maxHeight: '250px',\n      overflowY: 'auto',\n      whiteSpace: 'pre-wrap',\n      fontSize: 13,\n      color: '#454545',\n      lineHeight: 'auto'\n    });\n    descriptionC.innerHTML = guidelines;\n    const button = (0, utils_js_1.createElement)('div', 'button_begin_or', styles.buttonWidgetStyle, 'Begin Test');\n    titleContainer.append(title, icon);\n    content.append(descriptionC, button);\n    section.append(titleContainer, content);\n    const toggleDescriptionVisibility = () => {\n      this.widgetGuidelinesVisible = !this.widgetGuidelinesVisible;\n      icon.textContent = this.widgetGuidelinesVisible ? '-' : '+';\n      Object.assign(content.style, this.widgetGuidelinesVisible ? styles.contentStyle : {\n        display: 'none'\n      });\n    };\n    titleContainer.onclick = toggleDescriptionVisibility;\n    this.toggleDescriptionVisibility = () => {\n      this.widgetGuidelinesVisible = false;\n      icon.textContent = this.widgetGuidelinesVisible ? '-' : '+';\n      Object.assign(content.style, this.widgetGuidelinesVisible ? styles.contentStyle : {\n        display: 'none'\n      });\n      content.removeChild(button);\n    };\n    button.onclick = () => {\n      var _a, _b, _c;\n      toggleDescriptionVisibility();\n      if (this.test) {\n        const durations = (_a = this.signalManager) === null || _a === void 0 ? void 0 : _a.getDurations();\n        const taskDurationInd = durations ? durations.tasks.findIndex(t => this.test && t.taskId === this.test.tasks[0].task_id) : null;\n        if (durations && taskDurationInd === -1) {\n          durations.tasks.push({\n            taskId: this.test.tasks[0].task_id,\n            started: this.app.timestamp()\n          });\n          (_b = this.signalManager) === null || _b === void 0 ? void 0 : _b.setDurations(durations);\n        }\n        void ((_c = this.signalManager) === null || _c === void 0 ? void 0 : _c.signalTask(this.test.tasks[0].task_id, 'begin'));\n      }\n      this.showTaskSection();\n      content.removeChild(button);\n    };\n    return section;\n  }\n  createTasksSection(tasks) {\n    this.container.style.fontFamily = `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`;\n    Object.assign(this.container.style, styles.containerWidgetStyle);\n    const section = (0, utils_js_1.createElement)('div', 'task_section_or', styles.descriptionWidgetStyle);\n    const titleContainer = (0, utils_js_1.createElement)('div', 'description_t_title_or', styles.sectionTitleStyle);\n    const title = (0, utils_js_1.createElement)('div', 'title', {\n      fontSize: '13px',\n      fontWeight: '500',\n      lineHeight: 'auto'\n    }, 'Tasks');\n    const icon = (0, utils_js_1.createElement)('div', 'icon', styles.symbolIcon, '-');\n    const content = (0, utils_js_1.createElement)('div', 'content', styles.contentStyle);\n    const pagination = (0, utils_js_1.createElement)('div', 'pagination', styles.paginationStyle);\n    // const leftArrow = createElement('span', 'leftArrow', {}, '<')\n    // const rightArrow = createElement('span', 'rightArrow', {}, '>')\n    const taskCard = (0, utils_js_1.createElement)('div', 'taskCard', styles.taskDescriptionCard);\n    const taskText = (0, utils_js_1.createElement)('div', 'taskText', styles.taskTextStyle);\n    const taskDescription = (0, utils_js_1.createElement)('div', 'taskDescription', styles.taskDescriptionStyle);\n    const taskButtons = (0, utils_js_1.createElement)('div', 'taskButtons', styles.taskButtonsRow);\n    const inputTitle = (0, utils_js_1.createElement)('div', 'taskText', styles.taskTextStyle);\n    inputTitle.textContent = 'Your answer';\n    const inputArea = (0, utils_js_1.createElement)('textarea', 'taskDescription', {\n      resize: 'vertical'\n    });\n    const inputContainer = (0, utils_js_1.createElement)('div', 'inputArea', styles.taskDescriptionCard);\n    inputContainer.append(inputTitle, inputArea);\n    const closePanelButton = (0, utils_js_1.createElement)('div', 'closePanelButton', styles.taskButtonStyle, 'Collapse Panel');\n    const nextButton = (0, utils_js_1.createElement)('div', 'nextButton', styles.taskButtonBorderedStyle, 'Done, Next');\n    titleContainer.append(title, icon);\n    taskCard.append(taskText, taskDescription);\n    taskButtons.append(closePanelButton, nextButton);\n    content.append(pagination, taskCard, inputContainer, taskButtons);\n    section.append(titleContainer, content);\n    const updateTaskContent = () => {\n      const task = tasks[this.currentTaskIndex];\n      taskText.textContent = task.title;\n      taskDescription.textContent = task.description;\n      if (task.allow_typing) {\n        inputContainer.style.display = 'flex';\n      } else {\n        inputContainer.style.display = 'none';\n      }\n    };\n    // pagination.appendChild(leftArrow)\n    tasks.forEach((_, index) => {\n      const pageNumber = (0, utils_js_1.createElement)('span', `or_task_${index}`, {\n        outline: '1px solid #efefef',\n        fontSize: '13px',\n        height: '24px',\n        width: '24px',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        borderRadius: '6.25em'\n      }, (index + 1).toString());\n      pageNumber.id = `or_task_${index}`;\n      pagination.append(pageNumber);\n    });\n    // pagination.appendChild(rightArrow)\n    const toggleTasksVisibility = () => {\n      this.widgetTasksVisible = !this.widgetTasksVisible;\n      icon.textContent = this.widgetTasksVisible ? '-' : '+';\n      Object.assign(content.style, this.widgetTasksVisible ? styles.contentStyle : {\n        display: 'none'\n      });\n    };\n    this.hideTaskSection = () => {\n      icon.textContent = '+';\n      Object.assign(content.style, {\n        display: 'none'\n      });\n      this.widgetTasksVisible = false;\n      return false;\n    };\n    this.showTaskSection = () => {\n      icon.textContent = '-';\n      Object.assign(content.style, styles.contentStyle);\n      this.widgetTasksVisible = true;\n      return true;\n    };\n    const highlightActive = () => {\n      const activeTaskEl = document.getElementById(`or_task_${this.currentTaskIndex}`);\n      if (activeTaskEl) {\n        Object.assign(activeTaskEl.style, styles.taskNumberActive);\n      }\n      for (let i = 0; i < this.currentTaskIndex; i++) {\n        const taskEl = document.getElementById(`or_task_${i}`);\n        if (taskEl) {\n          Object.assign(taskEl.style, styles.taskNumberDone);\n        }\n      }\n    };\n    titleContainer.onclick = toggleTasksVisibility;\n    closePanelButton.onclick = this.collapseWidget;\n    nextButton.onclick = () => {\n      var _a, _b, _c, _d;\n      const textAnswer = tasks[this.currentTaskIndex].allow_typing ? inputArea.value : undefined;\n      inputArea.value = '';\n      void ((_a = this.signalManager) === null || _a === void 0 ? void 0 : _a.signalTask(tasks[this.currentTaskIndex].task_id, 'done', textAnswer));\n      if (this.currentTaskIndex < tasks.length - 1) {\n        this.currentTaskIndex++;\n        updateTaskContent();\n        const durations = (_b = this.signalManager) === null || _b === void 0 ? void 0 : _b.getDurations();\n        if (durations && durations.tasks.findIndex(t => t.taskId === tasks[this.currentTaskIndex].task_id) === -1) {\n          durations.tasks.push({\n            taskId: tasks[this.currentTaskIndex].task_id,\n            started: this.app.timestamp()\n          });\n          (_c = this.signalManager) === null || _c === void 0 ? void 0 : _c.setDurations(durations);\n        }\n        void ((_d = this.signalManager) === null || _d === void 0 ? void 0 : _d.signalTask(tasks[this.currentTaskIndex].task_id, 'begin'));\n        highlightActive();\n      } else {\n        this.showEndSection();\n      }\n      this.app.localStorage.setItem('or_uxt_task_index', this.currentTaskIndex.toString());\n    };\n    setTimeout(() => {\n      const firstTaskEl = document.getElementById('or_task_0');\n      if (firstTaskEl) {\n        Object.assign(firstTaskEl.style, styles.taskNumberActive);\n      }\n      updateTaskContent();\n      highlightActive();\n    }, 1);\n    return section;\n  }\n  showEndSection() {\n    var _a, _b, _c, _d, _e;\n    let isLoading = true;\n    void ((_a = this.signalManager) === null || _a === void 0 ? void 0 : _a.signalTest('done'));\n    const section = (0, utils_js_1.createElement)('div', 'end_section_or', styles.endSectionStyle);\n    const title = (0, utils_js_1.createElement)('div', 'end_title_or', {\n      fontSize: '1.25rem',\n      fontWeight: '500'\n    }, 'Thank you! ðŸ‘');\n    const description = (0, utils_js_1.createElement)('div', 'end_description_or', {}, (_c = (_b = this.test) === null || _b === void 0 ? void 0 : _b.conclusion) !== null && _c !== void 0 ? _c : 'Thank you for participating in our usability test. Your feedback has been captured and will be used to enhance our website. \\n' + '\\n' + 'We appreciate your time and valuable input.');\n    const button = (0, utils_js_1.createElement)('div', 'end_button_or', styles.buttonWidgetStyle, 'Submitting Feedback');\n    const spinner = (0, utils_js_1.createSpinner)();\n    button.appendChild(spinner);\n    if (((_d = this.test) === null || _d === void 0 ? void 0 : _d.reqMic) || ((_e = this.test) === null || _e === void 0 ? void 0 : _e.reqCamera)) {\n      void this.userRecorder.sendToAPI().then(() => {\n        button.removeChild(spinner);\n        button.textContent = 'End Session';\n        isLoading = false;\n      }).catch(err => {\n        console.error(err);\n        button.removeChild(spinner);\n        button.textContent = 'End Session';\n        isLoading = false;\n      });\n    } else {\n      button.removeChild(spinner);\n      button.textContent = 'End Session';\n      isLoading = false;\n    }\n    if (this.taskSection) {\n      this.container.removeChild(this.taskSection);\n    }\n    if (this.descriptionSection) {\n      this.container.removeChild(this.descriptionSection);\n    }\n    if (this.stopButton && this.stopButtonContainer) {\n      this.container.removeChild(this.stopButtonContainer);\n    }\n    button.onclick = () => {\n      if (isLoading) return;\n      window.close();\n      document.body.removeChild(this.bg);\n    };\n    section.append(title, description, button);\n    this.endSection = section;\n    this.container.append(section);\n  }\n}\nexports.default = UserTestManager;","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","__importDefault","exports","styles","require","recorder_js_1","dnd_js_1","utils_js_1","SignalManager_js_1","UserTestManager","constructor","app","storageKey","bg","createElement","bgStyle","container","containerStyle","widgetGuidelinesVisible","widgetTasksVisible","widgetVisible","isActive","descriptionSection","taskSection","endSection","stopButton","stopButtonContainer","test","testId","signalManager","getTest","id","token","inProgress","ingest","options","ingestPoint","fetch","headers","Authorization","then","res","json","default","timestamp","localStorage","setItem","removeItem","getItem","getSessionID","createGreeting","title","reqMic","reqCamera","userRecorder","startRecording","Quality","Standard","showWidget","description","tasks","showTaskSection","catch","err","console","log","hideTaskSection","collapseWidget","removeGreeting","toggleDescriptionVisibility","currentTaskIndex","sessionId","savedSessionId","SESSION_ID","TEST_ID","TASK_IND","TEST_START","taskIndex","parseInt","getTestId","micRequired","cameraRequired","titleElement","titleStyle","descriptionElement","descriptionStyle","buttonElement","buttonStyle","removeChild","onclick","_a","_b","_c","_d","durations","getDurations","testStart","setDurations","signalTest","style","fontFamily","assign","containerWidgetStyle","guidelines","append","appendChild","document","body","innerHTML","position","zIndex","right","left","width","top","height","background","display","alignItems","justifyContent","titleSection","createTitleSection","createDescriptionSection","tasksSection","createTasksSection","stopWidgetStyle","stopContainer","fontSize","discard","window","close","titleWidgetStyle","leftIcon","generateGrid","titleText","maxWidth","overflow","textOverflow","lineHeight","cursor","rightIcon","generateChevron","toggleWidget","isVisible","border","padding","descriptionWidgetStyle","transform","section","titleContainer","sectionTitleStyle","fontWeight","icon","symbolIcon","content","contentStyle","descriptionC","maxHeight","overflowY","whiteSpace","color","button","buttonWidgetStyle","textContent","taskDurationInd","findIndex","t","taskId","task_id","push","started","signalTask","pagination","paginationStyle","taskCard","taskDescriptionCard","taskText","taskTextStyle","taskDescription","taskDescriptionStyle","taskButtons","taskButtonsRow","inputTitle","inputArea","resize","inputContainer","closePanelButton","taskButtonStyle","nextButton","taskButtonBorderedStyle","updateTaskContent","task","allow_typing","forEach","_","index","pageNumber","outline","flexDirection","borderRadius","toString","toggleTasksVisibility","highlightActive","activeTaskEl","getElementById","taskNumberActive","i","taskEl","taskNumberDone","textAnswer","length","showEndSection","setTimeout","firstTaskEl","_e","isLoading","endSectionStyle","conclusion","spinner","createSpinner","sendToAPI","error"],"sources":["/Users/paramvirrotwal/Observability/website-admin-react-web-app-project/node_modules/@openreplay/tracker/cjs/modules/userTesting/index.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst styles = __importStar(require(\"./styles.js\"));\nconst recorder_js_1 = __importStar(require(\"./recorder.js\"));\nconst dnd_js_1 = __importDefault(require(\"./dnd.js\"));\nconst utils_js_1 = require(\"./utils.js\");\nconst SignalManager_js_1 = __importDefault(require(\"./SignalManager.js\"));\nclass UserTestManager {\n    constructor(app, storageKey) {\n        this.app = app;\n        this.storageKey = storageKey;\n        this.bg = (0, utils_js_1.createElement)('div', 'bg', styles.bgStyle, undefined, '__or_ut_bg');\n        this.container = (0, utils_js_1.createElement)('div', 'container', styles.containerStyle, undefined, '__or_ut_ct');\n        this.widgetGuidelinesVisible = true;\n        this.widgetTasksVisible = false;\n        this.widgetVisible = true;\n        this.isActive = false;\n        this.descriptionSection = null;\n        this.taskSection = null;\n        this.endSection = null;\n        this.stopButton = null;\n        this.stopButtonContainer = null;\n        this.test = null;\n        this.testId = null;\n        this.signalManager = null;\n        this.getTest = (id, token, inProgress) => {\n            this.testId = id;\n            const ingest = this.app.options.ingestPoint;\n            return fetch(`${ingest}/v1/web/uxt/test/${id}`, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            })\n                .then((res) => res.json())\n                .then(({ test }) => {\n                this.isActive = true;\n                this.test = test;\n                this.signalManager = new SignalManager_js_1.default(this.app.options.ingestPoint, () => this.app.timestamp(), token, id, this.storageKey, (k, v) => this.app.localStorage.setItem(k, v), (k) => this.app.localStorage.removeItem(k), (k) => this.app.localStorage.getItem(k), () => this.app.getSessionID());\n                this.createGreeting(test.title, test.reqMic, test.reqCamera);\n                if (inProgress) {\n                    if (test.reqMic || test.reqCamera) {\n                        void this.userRecorder.startRecording(30, recorder_js_1.Quality.Standard, test.reqMic, test.reqCamera);\n                    }\n                    this.showWidget(test.description, test.tasks, true);\n                    this.showTaskSection();\n                }\n            })\n                .then(() => id)\n                .catch((err) => {\n                console.log('OR: Error fetching test', err);\n            });\n        };\n        this.hideTaskSection = () => false;\n        this.showTaskSection = () => true;\n        this.collapseWidget = () => false;\n        this.removeGreeting = () => false;\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        this.toggleDescriptionVisibility = () => { };\n        this.currentTaskIndex = 0;\n        this.userRecorder = new recorder_js_1.default(app);\n        const sessionId = this.app.getSessionID();\n        const savedSessionId = this.app.localStorage.getItem(utils_js_1.SESSION_ID);\n        if (sessionId !== savedSessionId) {\n            this.app.localStorage.removeItem(this.storageKey);\n            this.app.localStorage.removeItem(utils_js_1.SESSION_ID);\n            this.app.localStorage.removeItem(utils_js_1.TEST_ID);\n            this.app.localStorage.removeItem(utils_js_1.TASK_IND);\n            this.app.localStorage.removeItem(utils_js_1.TEST_START);\n        }\n        const taskIndex = this.app.localStorage.getItem(utils_js_1.TASK_IND);\n        if (taskIndex) {\n            this.currentTaskIndex = parseInt(taskIndex, 10);\n        }\n    }\n    getTestId() {\n        return this.testId;\n    }\n    createGreeting(title, micRequired, cameraRequired) {\n        const titleElement = (0, utils_js_1.createElement)('div', 'title', styles.titleStyle, title);\n        const descriptionElement = (0, utils_js_1.createElement)('div', 'description', styles.descriptionStyle, `Welcome, you're here to help us improve, not to be judged. Your insights matter!\\n\nðŸ“¹ We're recording this browser tab to learn from your experience.\nðŸŽ¤ Please enable mic and camera if asked, to give us a complete picture.`);\n        const buttonElement = (0, utils_js_1.createElement)('div', 'button', styles.buttonStyle, 'Read guidelines to begin');\n        this.removeGreeting = () => {\n            // this.container.innerHTML = ''\n            if (micRequired || cameraRequired) {\n                void this.userRecorder.startRecording(30, recorder_js_1.Quality.Standard, micRequired, cameraRequired);\n            }\n            this.container.removeChild(buttonElement);\n            this.container.removeChild(descriptionElement);\n            this.container.removeChild(titleElement);\n            return false;\n        };\n        buttonElement.onclick = () => {\n            var _a, _b, _c, _d;\n            this.removeGreeting();\n            const durations = (_a = this.signalManager) === null || _a === void 0 ? void 0 : _a.getDurations();\n            if (durations && this.signalManager) {\n                durations.testStart = this.app.timestamp();\n                this.signalManager.setDurations(durations);\n            }\n            void ((_b = this.signalManager) === null || _b === void 0 ? void 0 : _b.signalTest('begin'));\n            this.container.style.fontFamily = `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`;\n            Object.assign(this.container.style, styles.containerWidgetStyle);\n            this.showWidget(((_c = this.test) === null || _c === void 0 ? void 0 : _c.guidelines) || '', ((_d = this.test) === null || _d === void 0 ? void 0 : _d.tasks) || []);\n        };\n        this.container.append(titleElement, descriptionElement, buttonElement);\n        this.bg.appendChild(this.container);\n        document.body.appendChild(this.bg);\n    }\n    showWidget(guidelines, tasks, inProgress) {\n        this.container.innerHTML = '';\n        Object.assign(this.bg.style, {\n            position: 'fixed',\n            zIndex: 99999999999999,\n            right: '8px',\n            left: 'unset',\n            width: 'fit-content',\n            top: '8px',\n            height: 'fit-content',\n            background: 'unset',\n            display: 'unset',\n            alignItems: 'unset',\n            justifyContent: 'unset',\n        });\n        // Create title section\n        const titleSection = this.createTitleSection();\n        this.container.style.fontFamily = `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`;\n        Object.assign(this.container.style, styles.containerWidgetStyle);\n        const descriptionSection = this.createDescriptionSection(guidelines);\n        const tasksSection = this.createTasksSection(tasks);\n        const stopButton = (0, utils_js_1.createElement)('div', 'stop_bn_or', styles.stopWidgetStyle, 'Abort Session');\n        const stopContainer = (0, utils_js_1.createElement)('div', 'stop_ct_or', { fontSize: '13px!important' });\n        stopContainer.style.fontSize = '13px';\n        stopContainer.append(stopButton);\n        this.container.append(titleSection, descriptionSection, tasksSection, stopContainer);\n        this.taskSection = tasksSection;\n        this.descriptionSection = descriptionSection;\n        this.stopButton = stopButton;\n        this.stopButtonContainer = stopContainer;\n        stopButton.onclick = () => {\n            var _a;\n            this.userRecorder.discard();\n            void ((_a = this.signalManager) === null || _a === void 0 ? void 0 : _a.signalTest('skipped'));\n            document.body.removeChild(this.bg);\n            window.close();\n        };\n        if (!inProgress) {\n            this.hideTaskSection();\n        }\n        else {\n            this.toggleDescriptionVisibility();\n        }\n    }\n    createTitleSection() {\n        var _a;\n        const title = (0, utils_js_1.createElement)('div', 'title', styles.titleWidgetStyle);\n        const leftIcon = (0, utils_js_1.generateGrid)();\n        const titleText = (0, utils_js_1.createElement)('div', 'title_text', {\n            maxWidth: '19rem',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            width: '100%',\n            fontSize: 16,\n            lineHeight: 'auto',\n            cursor: 'pointer',\n        }, (_a = this.test) === null || _a === void 0 ? void 0 : _a.title);\n        const rightIcon = (0, utils_js_1.generateChevron)();\n        title.append(leftIcon, titleText, rightIcon);\n        const toggleWidget = (isVisible) => {\n            this.widgetVisible = isVisible;\n            this.container.style.fontFamily = `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`;\n            Object.assign(this.container.style, this.widgetVisible\n                ? styles.containerWidgetStyle\n                : { border: 'none', background: 'none', padding: 0 });\n            if (this.taskSection) {\n                Object.assign(this.taskSection.style, this.widgetVisible ? styles.descriptionWidgetStyle : { display: 'none' });\n            }\n            if (this.descriptionSection) {\n                Object.assign(this.descriptionSection.style, this.widgetVisible ? styles.descriptionWidgetStyle : { display: 'none' });\n            }\n            if (this.endSection) {\n                Object.assign(this.endSection.style, this.widgetVisible ? styles.descriptionWidgetStyle : { display: 'none' });\n            }\n            if (this.stopButton) {\n                Object.assign(this.stopButton.style, this.widgetVisible ? styles.stopWidgetStyle : { display: 'none' });\n            }\n            return isVisible;\n        };\n        const collapseWidget = () => {\n            Object.assign(rightIcon.style, {\n                transform: this.widgetVisible ? 'rotate(0deg)' : 'rotate(180deg)',\n            });\n            toggleWidget(!this.widgetVisible);\n        };\n        titleText.onclick = collapseWidget;\n        rightIcon.onclick = collapseWidget;\n        (0, dnd_js_1.default)(this.bg, leftIcon);\n        this.collapseWidget = () => toggleWidget(false);\n        return title;\n    }\n    createDescriptionSection(guidelines) {\n        const section = (0, utils_js_1.createElement)('div', 'description_section_or', styles.descriptionWidgetStyle);\n        const titleContainer = (0, utils_js_1.createElement)('div', 'description_s_title_or', styles.sectionTitleStyle);\n        const title = (0, utils_js_1.createElement)('div', 'title', {\n            fontSize: 13,\n            fontWeight: 500,\n            lineHeight: 'auto',\n        }, 'Introduction & Guidelines');\n        const icon = (0, utils_js_1.createElement)('div', 'icon', styles.symbolIcon, '-');\n        const content = (0, utils_js_1.createElement)('div', 'content', styles.contentStyle);\n        const descriptionC = (0, utils_js_1.createElement)('div', 'text_description', {\n            maxHeight: '250px',\n            overflowY: 'auto',\n            whiteSpace: 'pre-wrap',\n            fontSize: 13,\n            color: '#454545',\n            lineHeight: 'auto',\n        });\n        descriptionC.innerHTML = guidelines;\n        const button = (0, utils_js_1.createElement)('div', 'button_begin_or', styles.buttonWidgetStyle, 'Begin Test');\n        titleContainer.append(title, icon);\n        content.append(descriptionC, button);\n        section.append(titleContainer, content);\n        const toggleDescriptionVisibility = () => {\n            this.widgetGuidelinesVisible = !this.widgetGuidelinesVisible;\n            icon.textContent = this.widgetGuidelinesVisible ? '-' : '+';\n            Object.assign(content.style, this.widgetGuidelinesVisible ? styles.contentStyle : { display: 'none' });\n        };\n        titleContainer.onclick = toggleDescriptionVisibility;\n        this.toggleDescriptionVisibility = () => {\n            this.widgetGuidelinesVisible = false;\n            icon.textContent = this.widgetGuidelinesVisible ? '-' : '+';\n            Object.assign(content.style, this.widgetGuidelinesVisible ? styles.contentStyle : { display: 'none' });\n            content.removeChild(button);\n        };\n        button.onclick = () => {\n            var _a, _b, _c;\n            toggleDescriptionVisibility();\n            if (this.test) {\n                const durations = (_a = this.signalManager) === null || _a === void 0 ? void 0 : _a.getDurations();\n                const taskDurationInd = durations\n                    ? durations.tasks.findIndex((t) => this.test && t.taskId === this.test.tasks[0].task_id)\n                    : null;\n                if (durations && taskDurationInd === -1) {\n                    durations.tasks.push({\n                        taskId: this.test.tasks[0].task_id,\n                        started: this.app.timestamp(),\n                    });\n                    (_b = this.signalManager) === null || _b === void 0 ? void 0 : _b.setDurations(durations);\n                }\n                void ((_c = this.signalManager) === null || _c === void 0 ? void 0 : _c.signalTask(this.test.tasks[0].task_id, 'begin'));\n            }\n            this.showTaskSection();\n            content.removeChild(button);\n        };\n        return section;\n    }\n    createTasksSection(tasks) {\n        this.container.style.fontFamily = `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`;\n        Object.assign(this.container.style, styles.containerWidgetStyle);\n        const section = (0, utils_js_1.createElement)('div', 'task_section_or', styles.descriptionWidgetStyle);\n        const titleContainer = (0, utils_js_1.createElement)('div', 'description_t_title_or', styles.sectionTitleStyle);\n        const title = (0, utils_js_1.createElement)('div', 'title', {\n            fontSize: '13px',\n            fontWeight: '500',\n            lineHeight: 'auto',\n        }, 'Tasks');\n        const icon = (0, utils_js_1.createElement)('div', 'icon', styles.symbolIcon, '-');\n        const content = (0, utils_js_1.createElement)('div', 'content', styles.contentStyle);\n        const pagination = (0, utils_js_1.createElement)('div', 'pagination', styles.paginationStyle);\n        // const leftArrow = createElement('span', 'leftArrow', {}, '<')\n        // const rightArrow = createElement('span', 'rightArrow', {}, '>')\n        const taskCard = (0, utils_js_1.createElement)('div', 'taskCard', styles.taskDescriptionCard);\n        const taskText = (0, utils_js_1.createElement)('div', 'taskText', styles.taskTextStyle);\n        const taskDescription = (0, utils_js_1.createElement)('div', 'taskDescription', styles.taskDescriptionStyle);\n        const taskButtons = (0, utils_js_1.createElement)('div', 'taskButtons', styles.taskButtonsRow);\n        const inputTitle = (0, utils_js_1.createElement)('div', 'taskText', styles.taskTextStyle);\n        inputTitle.textContent = 'Your answer';\n        const inputArea = (0, utils_js_1.createElement)('textarea', 'taskDescription', {\n            resize: 'vertical',\n        });\n        const inputContainer = (0, utils_js_1.createElement)('div', 'inputArea', styles.taskDescriptionCard);\n        inputContainer.append(inputTitle, inputArea);\n        const closePanelButton = (0, utils_js_1.createElement)('div', 'closePanelButton', styles.taskButtonStyle, 'Collapse Panel');\n        const nextButton = (0, utils_js_1.createElement)('div', 'nextButton', styles.taskButtonBorderedStyle, 'Done, Next');\n        titleContainer.append(title, icon);\n        taskCard.append(taskText, taskDescription);\n        taskButtons.append(closePanelButton, nextButton);\n        content.append(pagination, taskCard, inputContainer, taskButtons);\n        section.append(titleContainer, content);\n        const updateTaskContent = () => {\n            const task = tasks[this.currentTaskIndex];\n            taskText.textContent = task.title;\n            taskDescription.textContent = task.description;\n            if (task.allow_typing) {\n                inputContainer.style.display = 'flex';\n            }\n            else {\n                inputContainer.style.display = 'none';\n            }\n        };\n        // pagination.appendChild(leftArrow)\n        tasks.forEach((_, index) => {\n            const pageNumber = (0, utils_js_1.createElement)('span', `or_task_${index}`, {\n                outline: '1px solid #efefef',\n                fontSize: '13px',\n                height: '24px',\n                width: '24px',\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'center',\n                borderRadius: '6.25em',\n            }, (index + 1).toString());\n            pageNumber.id = `or_task_${index}`;\n            pagination.append(pageNumber);\n        });\n        // pagination.appendChild(rightArrow)\n        const toggleTasksVisibility = () => {\n            this.widgetTasksVisible = !this.widgetTasksVisible;\n            icon.textContent = this.widgetTasksVisible ? '-' : '+';\n            Object.assign(content.style, this.widgetTasksVisible ? styles.contentStyle : { display: 'none' });\n        };\n        this.hideTaskSection = () => {\n            icon.textContent = '+';\n            Object.assign(content.style, {\n                display: 'none',\n            });\n            this.widgetTasksVisible = false;\n            return false;\n        };\n        this.showTaskSection = () => {\n            icon.textContent = '-';\n            Object.assign(content.style, styles.contentStyle);\n            this.widgetTasksVisible = true;\n            return true;\n        };\n        const highlightActive = () => {\n            const activeTaskEl = document.getElementById(`or_task_${this.currentTaskIndex}`);\n            if (activeTaskEl) {\n                Object.assign(activeTaskEl.style, styles.taskNumberActive);\n            }\n            for (let i = 0; i < this.currentTaskIndex; i++) {\n                const taskEl = document.getElementById(`or_task_${i}`);\n                if (taskEl) {\n                    Object.assign(taskEl.style, styles.taskNumberDone);\n                }\n            }\n        };\n        titleContainer.onclick = toggleTasksVisibility;\n        closePanelButton.onclick = this.collapseWidget;\n        nextButton.onclick = () => {\n            var _a, _b, _c, _d;\n            const textAnswer = tasks[this.currentTaskIndex].allow_typing ? inputArea.value : undefined;\n            inputArea.value = '';\n            void ((_a = this.signalManager) === null || _a === void 0 ? void 0 : _a.signalTask(tasks[this.currentTaskIndex].task_id, 'done', textAnswer));\n            if (this.currentTaskIndex < tasks.length - 1) {\n                this.currentTaskIndex++;\n                updateTaskContent();\n                const durations = (_b = this.signalManager) === null || _b === void 0 ? void 0 : _b.getDurations();\n                if (durations &&\n                    durations.tasks.findIndex((t) => t.taskId === tasks[this.currentTaskIndex].task_id) === -1) {\n                    durations.tasks.push({\n                        taskId: tasks[this.currentTaskIndex].task_id,\n                        started: this.app.timestamp(),\n                    });\n                    (_c = this.signalManager) === null || _c === void 0 ? void 0 : _c.setDurations(durations);\n                }\n                void ((_d = this.signalManager) === null || _d === void 0 ? void 0 : _d.signalTask(tasks[this.currentTaskIndex].task_id, 'begin'));\n                highlightActive();\n            }\n            else {\n                this.showEndSection();\n            }\n            this.app.localStorage.setItem('or_uxt_task_index', this.currentTaskIndex.toString());\n        };\n        setTimeout(() => {\n            const firstTaskEl = document.getElementById('or_task_0');\n            if (firstTaskEl) {\n                Object.assign(firstTaskEl.style, styles.taskNumberActive);\n            }\n            updateTaskContent();\n            highlightActive();\n        }, 1);\n        return section;\n    }\n    showEndSection() {\n        var _a, _b, _c, _d, _e;\n        let isLoading = true;\n        void ((_a = this.signalManager) === null || _a === void 0 ? void 0 : _a.signalTest('done'));\n        const section = (0, utils_js_1.createElement)('div', 'end_section_or', styles.endSectionStyle);\n        const title = (0, utils_js_1.createElement)('div', 'end_title_or', {\n            fontSize: '1.25rem',\n            fontWeight: '500',\n        }, 'Thank you! ðŸ‘');\n        const description = (0, utils_js_1.createElement)('div', 'end_description_or', {}, (_c = (_b = this.test) === null || _b === void 0 ? void 0 : _b.conclusion) !== null && _c !== void 0 ? _c : 'Thank you for participating in our usability test. Your feedback has been captured and will be used to enhance our website. \\n' +\n            '\\n' +\n            'We appreciate your time and valuable input.');\n        const button = (0, utils_js_1.createElement)('div', 'end_button_or', styles.buttonWidgetStyle, 'Submitting Feedback');\n        const spinner = (0, utils_js_1.createSpinner)();\n        button.appendChild(spinner);\n        if (((_d = this.test) === null || _d === void 0 ? void 0 : _d.reqMic) || ((_e = this.test) === null || _e === void 0 ? void 0 : _e.reqCamera)) {\n            void this.userRecorder\n                .sendToAPI()\n                .then(() => {\n                button.removeChild(spinner);\n                button.textContent = 'End Session';\n                isLoading = false;\n            })\n                .catch((err) => {\n                console.error(err);\n                button.removeChild(spinner);\n                button.textContent = 'End Session';\n                isLoading = false;\n            });\n        }\n        else {\n            button.removeChild(spinner);\n            button.textContent = 'End Session';\n            isLoading = false;\n        }\n        if (this.taskSection) {\n            this.container.removeChild(this.taskSection);\n        }\n        if (this.descriptionSection) {\n            this.container.removeChild(this.descriptionSection);\n        }\n        if (this.stopButton && this.stopButtonContainer) {\n            this.container.removeChild(this.stopButtonContainer);\n        }\n        button.onclick = () => {\n            if (isLoading)\n                return;\n            window.close();\n            document.body.removeChild(this.bg);\n        };\n        section.append(title, description, button);\n        this.endSection = section;\n        this.container.append(section);\n    }\n}\nexports.default = UserTestManager;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}