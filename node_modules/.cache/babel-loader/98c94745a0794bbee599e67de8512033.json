{"ast":null,"code":"export class StringDictionary {\n  constructor() {\n    this.idx = 1;\n    this.backDict = {};\n  }\n  getKey(str) {\n    let isNew = false;\n    if (!this.backDict[str]) {\n      isNew = true;\n      this.backDict[str] = this.idx++;\n    }\n    return [this.backDict[str], isNew];\n  }\n}\nexport default class AttributeSender {\n  constructor(app, isDictDisabled) {\n    this.app = app;\n    this.isDictDisabled = isDictDisabled;\n    this.dict = new StringDictionary();\n  }\n  sendSetAttribute(id, name, value) {\n    if (this.isDictDisabled) {\n      const msg = [12 /* Type.SetNodeAttribute */, id, name, value];\n      return this.app.send(msg);\n    } else {\n      const message = [51 /* Type.SetNodeAttributeDict */, id, this.applyDict(name), this.applyDict(value)];\n      return this.app.send(message);\n    }\n  }\n  applyDict(str) {\n    const [key, isNew] = this.dict.getKey(str);\n    if (isNew) {\n      this.app.send([50 /* Type.StringDict */, key, str]);\n    }\n    return key;\n  }\n  clear() {\n    this.dict = new StringDictionary();\n  }\n}","map":{"version":3,"names":["StringDictionary","constructor","idx","backDict","getKey","str","isNew","AttributeSender","app","isDictDisabled","dict","sendSetAttribute","id","name","value","msg","send","message","applyDict","key","clear"],"sources":["/Users/paramvirrotwal/Observability/website-admin-react-web-app-project/node_modules/@openreplay/tracker/lib/modules/attributeSender.js"],"sourcesContent":["export class StringDictionary {\n    constructor() {\n        this.idx = 1;\n        this.backDict = {};\n    }\n    getKey(str) {\n        let isNew = false;\n        if (!this.backDict[str]) {\n            isNew = true;\n            this.backDict[str] = this.idx++;\n        }\n        return [this.backDict[str], isNew];\n    }\n}\nexport default class AttributeSender {\n    constructor(app, isDictDisabled) {\n        this.app = app;\n        this.isDictDisabled = isDictDisabled;\n        this.dict = new StringDictionary();\n    }\n    sendSetAttribute(id, name, value) {\n        if (this.isDictDisabled) {\n            const msg = [12 /* Type.SetNodeAttribute */, id, name, value];\n            return this.app.send(msg);\n        }\n        else {\n            const message = [\n                51 /* Type.SetNodeAttributeDict */,\n                id,\n                this.applyDict(name),\n                this.applyDict(value),\n            ];\n            return this.app.send(message);\n        }\n    }\n    applyDict(str) {\n        const [key, isNew] = this.dict.getKey(str);\n        if (isNew) {\n            this.app.send([50 /* Type.StringDict */, key, str]);\n        }\n        return key;\n    }\n    clear() {\n        this.dict = new StringDictionary();\n    }\n}\n"],"mappings":"AAAA,OAAO,MAAMA,gBAAgB,CAAC;EAC1BC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,GAAG,GAAG,CAAC;IACZ,IAAI,CAACC,QAAQ,GAAG,CAAC,CAAC;EACtB;EACAC,MAAMA,CAACC,GAAG,EAAE;IACR,IAAIC,KAAK,GAAG,KAAK;IACjB,IAAI,CAAC,IAAI,CAACH,QAAQ,CAACE,GAAG,CAAC,EAAE;MACrBC,KAAK,GAAG,IAAI;MACZ,IAAI,CAACH,QAAQ,CAACE,GAAG,CAAC,GAAG,IAAI,CAACH,GAAG,EAAE;IACnC;IACA,OAAO,CAAC,IAAI,CAACC,QAAQ,CAACE,GAAG,CAAC,EAAEC,KAAK,CAAC;EACtC;AACJ;AACA,eAAe,MAAMC,eAAe,CAAC;EACjCN,WAAWA,CAACO,GAAG,EAAEC,cAAc,EAAE;IAC7B,IAAI,CAACD,GAAG,GAAGA,GAAG;IACd,IAAI,CAACC,cAAc,GAAGA,cAAc;IACpC,IAAI,CAACC,IAAI,GAAG,IAAIV,gBAAgB,CAAC,CAAC;EACtC;EACAW,gBAAgBA,CAACC,EAAE,EAAEC,IAAI,EAAEC,KAAK,EAAE;IAC9B,IAAI,IAAI,CAACL,cAAc,EAAE;MACrB,MAAMM,GAAG,GAAG,CAAC,EAAE,CAAC,6BAA6BH,EAAE,EAAEC,IAAI,EAAEC,KAAK,CAAC;MAC7D,OAAO,IAAI,CAACN,GAAG,CAACQ,IAAI,CAACD,GAAG,CAAC;IAC7B,CAAC,MACI;MACD,MAAME,OAAO,GAAG,CACZ,EAAE,CAAC,iCACHL,EAAE,EACF,IAAI,CAACM,SAAS,CAACL,IAAI,CAAC,EACpB,IAAI,CAACK,SAAS,CAACJ,KAAK,CAAC,CACxB;MACD,OAAO,IAAI,CAACN,GAAG,CAACQ,IAAI,CAACC,OAAO,CAAC;IACjC;EACJ;EACAC,SAASA,CAACb,GAAG,EAAE;IACX,MAAM,CAACc,GAAG,EAAEb,KAAK,CAAC,GAAG,IAAI,CAACI,IAAI,CAACN,MAAM,CAACC,GAAG,CAAC;IAC1C,IAAIC,KAAK,EAAE;MACP,IAAI,CAACE,GAAG,CAACQ,IAAI,CAAC,CAAC,EAAE,CAAC,uBAAuBG,GAAG,EAAEd,GAAG,CAAC,CAAC;IACvD;IACA,OAAOc,GAAG;EACd;EACAC,KAAKA,CAAA,EAAG;IACJ,IAAI,CAACV,IAAI,GAAG,IAAIV,gBAAgB,CAAC,CAAC;EACtC;AACJ"},"metadata":{},"sourceType":"module"}