{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst utils_js_1 = require(\"../utils.js\");\nconst messages_gen_js_1 = require(\"../app/messages.gen.js\");\nfunction default_1(app) {\n  let url, width, height;\n  let navigationStart;\n  let referrer = document.referrer;\n  const sendSetPageLocation = app.safe(() => {\n    const {\n      URL\n    } = document;\n    if (URL !== url) {\n      url = URL;\n      app.send((0, messages_gen_js_1.SetPageLocation)(url, referrer, navigationStart));\n      navigationStart = 0;\n      referrer = url;\n    }\n  });\n  const sendSetViewportSize = app.safe(() => {\n    const {\n      innerWidth,\n      innerHeight\n    } = window;\n    if (innerWidth !== width || innerHeight !== height) {\n      width = innerWidth;\n      height = innerHeight;\n      app.send((0, messages_gen_js_1.SetViewportSize)(width, height));\n    }\n  });\n  const sendSetPageVisibility = document.hidden === undefined ? Function.prototype : app.safe(() => app.send((0, messages_gen_js_1.SetPageVisibility)(document.hidden)));\n  app.attachStartCallback(() => {\n    url = '';\n    navigationStart = (0, utils_js_1.getTimeOrigin)();\n    width = height = -1;\n    sendSetPageLocation();\n    sendSetViewportSize();\n    sendSetPageVisibility();\n  });\n  if (document.hidden !== undefined) {\n    app.attachEventListener(document, 'visibilitychange', sendSetPageVisibility, false, false);\n  }\n  app.ticker.attach(sendSetPageLocation, 1, false);\n  app.ticker.attach(sendSetViewportSize, 5, false);\n}\nexports.default = default_1;","map":{"version":3,"names":["Object","defineProperty","exports","value","utils_js_1","require","messages_gen_js_1","default_1","app","url","width","height","navigationStart","referrer","document","sendSetPageLocation","safe","URL","send","SetPageLocation","sendSetViewportSize","innerWidth","innerHeight","window","SetViewportSize","sendSetPageVisibility","hidden","undefined","Function","prototype","SetPageVisibility","attachStartCallback","getTimeOrigin","attachEventListener","ticker","attach","default"],"sources":["/Users/paramvirrotwal/Observability/website-admin-react-web-app-project/node_modules/@openreplay/tracker/cjs/modules/viewport.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils_js_1 = require(\"../utils.js\");\nconst messages_gen_js_1 = require(\"../app/messages.gen.js\");\nfunction default_1(app) {\n    let url, width, height;\n    let navigationStart;\n    let referrer = document.referrer;\n    const sendSetPageLocation = app.safe(() => {\n        const { URL } = document;\n        if (URL !== url) {\n            url = URL;\n            app.send((0, messages_gen_js_1.SetPageLocation)(url, referrer, navigationStart));\n            navigationStart = 0;\n            referrer = url;\n        }\n    });\n    const sendSetViewportSize = app.safe(() => {\n        const { innerWidth, innerHeight } = window;\n        if (innerWidth !== width || innerHeight !== height) {\n            width = innerWidth;\n            height = innerHeight;\n            app.send((0, messages_gen_js_1.SetViewportSize)(width, height));\n        }\n    });\n    const sendSetPageVisibility = document.hidden === undefined\n        ? Function.prototype\n        : app.safe(() => app.send((0, messages_gen_js_1.SetPageVisibility)(document.hidden)));\n    app.attachStartCallback(() => {\n        url = '';\n        navigationStart = (0, utils_js_1.getTimeOrigin)();\n        width = height = -1;\n        sendSetPageLocation();\n        sendSetViewportSize();\n        sendSetPageVisibility();\n    });\n    if (document.hidden !== undefined) {\n        app.attachEventListener(document, 'visibilitychange', sendSetPageVisibility, false, false);\n    }\n    app.ticker.attach(sendSetPageLocation, 1, false);\n    app.ticker.attach(sendSetViewportSize, 5, false);\n}\nexports.default = default_1;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,MAAMC,UAAU,GAAGC,OAAO,CAAC,aAAa,CAAC;AACzC,MAAMC,iBAAiB,GAAGD,OAAO,CAAC,wBAAwB,CAAC;AAC3D,SAASE,SAASA,CAACC,GAAG,EAAE;EACpB,IAAIC,GAAG,EAAEC,KAAK,EAAEC,MAAM;EACtB,IAAIC,eAAe;EACnB,IAAIC,QAAQ,GAAGC,QAAQ,CAACD,QAAQ;EAChC,MAAME,mBAAmB,GAAGP,GAAG,CAACQ,IAAI,CAAC,MAAM;IACvC,MAAM;MAAEC;IAAI,CAAC,GAAGH,QAAQ;IACxB,IAAIG,GAAG,KAAKR,GAAG,EAAE;MACbA,GAAG,GAAGQ,GAAG;MACTT,GAAG,CAACU,IAAI,CAAC,CAAC,CAAC,EAAEZ,iBAAiB,CAACa,eAAe,EAAEV,GAAG,EAAEI,QAAQ,EAAED,eAAe,CAAC,CAAC;MAChFA,eAAe,GAAG,CAAC;MACnBC,QAAQ,GAAGJ,GAAG;IAClB;EACJ,CAAC,CAAC;EACF,MAAMW,mBAAmB,GAAGZ,GAAG,CAACQ,IAAI,CAAC,MAAM;IACvC,MAAM;MAAEK,UAAU;MAAEC;IAAY,CAAC,GAAGC,MAAM;IAC1C,IAAIF,UAAU,KAAKX,KAAK,IAAIY,WAAW,KAAKX,MAAM,EAAE;MAChDD,KAAK,GAAGW,UAAU;MAClBV,MAAM,GAAGW,WAAW;MACpBd,GAAG,CAACU,IAAI,CAAC,CAAC,CAAC,EAAEZ,iBAAiB,CAACkB,eAAe,EAAEd,KAAK,EAAEC,MAAM,CAAC,CAAC;IACnE;EACJ,CAAC,CAAC;EACF,MAAMc,qBAAqB,GAAGX,QAAQ,CAACY,MAAM,KAAKC,SAAS,GACrDC,QAAQ,CAACC,SAAS,GAClBrB,GAAG,CAACQ,IAAI,CAAC,MAAMR,GAAG,CAACU,IAAI,CAAC,CAAC,CAAC,EAAEZ,iBAAiB,CAACwB,iBAAiB,EAAEhB,QAAQ,CAACY,MAAM,CAAC,CAAC,CAAC;EACzFlB,GAAG,CAACuB,mBAAmB,CAAC,MAAM;IAC1BtB,GAAG,GAAG,EAAE;IACRG,eAAe,GAAG,CAAC,CAAC,EAAER,UAAU,CAAC4B,aAAa,EAAE,CAAC;IACjDtB,KAAK,GAAGC,MAAM,GAAG,CAAC,CAAC;IACnBI,mBAAmB,CAAC,CAAC;IACrBK,mBAAmB,CAAC,CAAC;IACrBK,qBAAqB,CAAC,CAAC;EAC3B,CAAC,CAAC;EACF,IAAIX,QAAQ,CAACY,MAAM,KAAKC,SAAS,EAAE;IAC/BnB,GAAG,CAACyB,mBAAmB,CAACnB,QAAQ,EAAE,kBAAkB,EAAEW,qBAAqB,EAAE,KAAK,EAAE,KAAK,CAAC;EAC9F;EACAjB,GAAG,CAAC0B,MAAM,CAACC,MAAM,CAACpB,mBAAmB,EAAE,CAAC,EAAE,KAAK,CAAC;EAChDP,GAAG,CAAC0B,MAAM,CAACC,MAAM,CAACf,mBAAmB,EAAE,CAAC,EAAE,KAAK,CAAC;AACpD;AACAlB,OAAO,CAACkC,OAAO,GAAG7B,SAAS"},"metadata":{},"sourceType":"script"}