{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StringDictionary = void 0;\nclass StringDictionary {\n  constructor() {\n    this.idx = 1;\n    this.backDict = {};\n  }\n  getKey(str) {\n    let isNew = false;\n    if (!this.backDict[str]) {\n      isNew = true;\n      this.backDict[str] = this.idx++;\n    }\n    return [this.backDict[str], isNew];\n  }\n}\nexports.StringDictionary = StringDictionary;\nclass AttributeSender {\n  constructor(app, isDictDisabled) {\n    this.app = app;\n    this.isDictDisabled = isDictDisabled;\n    this.dict = new StringDictionary();\n  }\n  sendSetAttribute(id, name, value) {\n    if (this.isDictDisabled) {\n      const msg = [12 /* Type.SetNodeAttribute */, id, name, value];\n      return this.app.send(msg);\n    } else {\n      const message = [51 /* Type.SetNodeAttributeDict */, id, this.applyDict(name), this.applyDict(value)];\n      return this.app.send(message);\n    }\n  }\n  applyDict(str) {\n    const [key, isNew] = this.dict.getKey(str);\n    if (isNew) {\n      this.app.send([50 /* Type.StringDict */, key, str]);\n    }\n    return key;\n  }\n  clear() {\n    this.dict = new StringDictionary();\n  }\n}\nexports.default = AttributeSender;","map":{"version":3,"names":["Object","defineProperty","exports","value","StringDictionary","constructor","idx","backDict","getKey","str","isNew","AttributeSender","app","isDictDisabled","dict","sendSetAttribute","id","name","msg","send","message","applyDict","key","clear","default"],"sources":["/Users/paramvirrotwal/Observability/website-admin-react-web-app-project/node_modules/@openreplay/tracker/cjs/modules/attributeSender.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StringDictionary = void 0;\nclass StringDictionary {\n    constructor() {\n        this.idx = 1;\n        this.backDict = {};\n    }\n    getKey(str) {\n        let isNew = false;\n        if (!this.backDict[str]) {\n            isNew = true;\n            this.backDict[str] = this.idx++;\n        }\n        return [this.backDict[str], isNew];\n    }\n}\nexports.StringDictionary = StringDictionary;\nclass AttributeSender {\n    constructor(app, isDictDisabled) {\n        this.app = app;\n        this.isDictDisabled = isDictDisabled;\n        this.dict = new StringDictionary();\n    }\n    sendSetAttribute(id, name, value) {\n        if (this.isDictDisabled) {\n            const msg = [12 /* Type.SetNodeAttribute */, id, name, value];\n            return this.app.send(msg);\n        }\n        else {\n            const message = [\n                51 /* Type.SetNodeAttributeDict */,\n                id,\n                this.applyDict(name),\n                this.applyDict(value),\n            ];\n            return this.app.send(message);\n        }\n    }\n    applyDict(str) {\n        const [key, isNew] = this.dict.getKey(str);\n        if (isNew) {\n            this.app.send([50 /* Type.StringDict */, key, str]);\n        }\n        return key;\n    }\n    clear() {\n        this.dict = new StringDictionary();\n    }\n}\nexports.default = AttributeSender;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,gBAAgB,GAAG,KAAK,CAAC;AACjC,MAAMA,gBAAgB,CAAC;EACnBC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,GAAG,GAAG,CAAC;IACZ,IAAI,CAACC,QAAQ,GAAG,CAAC,CAAC;EACtB;EACAC,MAAMA,CAACC,GAAG,EAAE;IACR,IAAIC,KAAK,GAAG,KAAK;IACjB,IAAI,CAAC,IAAI,CAACH,QAAQ,CAACE,GAAG,CAAC,EAAE;MACrBC,KAAK,GAAG,IAAI;MACZ,IAAI,CAACH,QAAQ,CAACE,GAAG,CAAC,GAAG,IAAI,CAACH,GAAG,EAAE;IACnC;IACA,OAAO,CAAC,IAAI,CAACC,QAAQ,CAACE,GAAG,CAAC,EAAEC,KAAK,CAAC;EACtC;AACJ;AACAR,OAAO,CAACE,gBAAgB,GAAGA,gBAAgB;AAC3C,MAAMO,eAAe,CAAC;EAClBN,WAAWA,CAACO,GAAG,EAAEC,cAAc,EAAE;IAC7B,IAAI,CAACD,GAAG,GAAGA,GAAG;IACd,IAAI,CAACC,cAAc,GAAGA,cAAc;IACpC,IAAI,CAACC,IAAI,GAAG,IAAIV,gBAAgB,CAAC,CAAC;EACtC;EACAW,gBAAgBA,CAACC,EAAE,EAAEC,IAAI,EAAEd,KAAK,EAAE;IAC9B,IAAI,IAAI,CAACU,cAAc,EAAE;MACrB,MAAMK,GAAG,GAAG,CAAC,EAAE,CAAC,6BAA6BF,EAAE,EAAEC,IAAI,EAAEd,KAAK,CAAC;MAC7D,OAAO,IAAI,CAACS,GAAG,CAACO,IAAI,CAACD,GAAG,CAAC;IAC7B,CAAC,MACI;MACD,MAAME,OAAO,GAAG,CACZ,EAAE,CAAC,iCACHJ,EAAE,EACF,IAAI,CAACK,SAAS,CAACJ,IAAI,CAAC,EACpB,IAAI,CAACI,SAAS,CAAClB,KAAK,CAAC,CACxB;MACD,OAAO,IAAI,CAACS,GAAG,CAACO,IAAI,CAACC,OAAO,CAAC;IACjC;EACJ;EACAC,SAASA,CAACZ,GAAG,EAAE;IACX,MAAM,CAACa,GAAG,EAAEZ,KAAK,CAAC,GAAG,IAAI,CAACI,IAAI,CAACN,MAAM,CAACC,GAAG,CAAC;IAC1C,IAAIC,KAAK,EAAE;MACP,IAAI,CAACE,GAAG,CAACO,IAAI,CAAC,CAAC,EAAE,CAAC,uBAAuBG,GAAG,EAAEb,GAAG,CAAC,CAAC;IACvD;IACA,OAAOa,GAAG;EACd;EACAC,KAAKA,CAAA,EAAG;IACJ,IAAI,CAACT,IAAI,GAAG,IAAIV,gBAAgB,CAAC,CAAC;EACtC;AACJ;AACAF,OAAO,CAACsB,OAAO,GAAGb,eAAe"},"metadata":{},"sourceType":"script"}