{"ast":null,"code":"import { getTimeOrigin } from '../utils.js';\nimport { SetPageLocation, SetViewportSize, SetPageVisibility } from '../app/messages.gen.js';\nexport default function (app) {\n  let url, width, height;\n  let navigationStart;\n  let referrer = document.referrer;\n  const sendSetPageLocation = app.safe(() => {\n    const {\n      URL\n    } = document;\n    if (URL !== url) {\n      url = URL;\n      app.send(SetPageLocation(url, referrer, navigationStart));\n      navigationStart = 0;\n      referrer = url;\n    }\n  });\n  const sendSetViewportSize = app.safe(() => {\n    const {\n      innerWidth,\n      innerHeight\n    } = window;\n    if (innerWidth !== width || innerHeight !== height) {\n      width = innerWidth;\n      height = innerHeight;\n      app.send(SetViewportSize(width, height));\n    }\n  });\n  const sendSetPageVisibility = document.hidden === undefined ? Function.prototype : app.safe(() => app.send(SetPageVisibility(document.hidden)));\n  app.attachStartCallback(() => {\n    url = '';\n    navigationStart = getTimeOrigin();\n    width = height = -1;\n    sendSetPageLocation();\n    sendSetViewportSize();\n    sendSetPageVisibility();\n  });\n  if (document.hidden !== undefined) {\n    app.attachEventListener(document, 'visibilitychange', sendSetPageVisibility, false, false);\n  }\n  app.ticker.attach(sendSetPageLocation, 1, false);\n  app.ticker.attach(sendSetViewportSize, 5, false);\n}","map":{"version":3,"names":["getTimeOrigin","SetPageLocation","SetViewportSize","SetPageVisibility","app","url","width","height","navigationStart","referrer","document","sendSetPageLocation","safe","URL","send","sendSetViewportSize","innerWidth","innerHeight","window","sendSetPageVisibility","hidden","undefined","Function","prototype","attachStartCallback","attachEventListener","ticker","attach"],"sources":["/Users/paramvirrotwal/Observability/website-admin-react-web-app-project/node_modules/@openreplay/tracker/lib/modules/viewport.js"],"sourcesContent":["import { getTimeOrigin } from '../utils.js';\nimport { SetPageLocation, SetViewportSize, SetPageVisibility } from '../app/messages.gen.js';\nexport default function (app) {\n    let url, width, height;\n    let navigationStart;\n    let referrer = document.referrer;\n    const sendSetPageLocation = app.safe(() => {\n        const { URL } = document;\n        if (URL !== url) {\n            url = URL;\n            app.send(SetPageLocation(url, referrer, navigationStart));\n            navigationStart = 0;\n            referrer = url;\n        }\n    });\n    const sendSetViewportSize = app.safe(() => {\n        const { innerWidth, innerHeight } = window;\n        if (innerWidth !== width || innerHeight !== height) {\n            width = innerWidth;\n            height = innerHeight;\n            app.send(SetViewportSize(width, height));\n        }\n    });\n    const sendSetPageVisibility = document.hidden === undefined\n        ? Function.prototype\n        : app.safe(() => app.send(SetPageVisibility(document.hidden)));\n    app.attachStartCallback(() => {\n        url = '';\n        navigationStart = getTimeOrigin();\n        width = height = -1;\n        sendSetPageLocation();\n        sendSetViewportSize();\n        sendSetPageVisibility();\n    });\n    if (document.hidden !== undefined) {\n        app.attachEventListener(document, 'visibilitychange', sendSetPageVisibility, false, false);\n    }\n    app.ticker.attach(sendSetPageLocation, 1, false);\n    app.ticker.attach(sendSetViewportSize, 5, false);\n}\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,aAAa;AAC3C,SAASC,eAAe,EAAEC,eAAe,EAAEC,iBAAiB,QAAQ,wBAAwB;AAC5F,eAAe,UAAUC,GAAG,EAAE;EAC1B,IAAIC,GAAG,EAAEC,KAAK,EAAEC,MAAM;EACtB,IAAIC,eAAe;EACnB,IAAIC,QAAQ,GAAGC,QAAQ,CAACD,QAAQ;EAChC,MAAME,mBAAmB,GAAGP,GAAG,CAACQ,IAAI,CAAC,MAAM;IACvC,MAAM;MAAEC;IAAI,CAAC,GAAGH,QAAQ;IACxB,IAAIG,GAAG,KAAKR,GAAG,EAAE;MACbA,GAAG,GAAGQ,GAAG;MACTT,GAAG,CAACU,IAAI,CAACb,eAAe,CAACI,GAAG,EAAEI,QAAQ,EAAED,eAAe,CAAC,CAAC;MACzDA,eAAe,GAAG,CAAC;MACnBC,QAAQ,GAAGJ,GAAG;IAClB;EACJ,CAAC,CAAC;EACF,MAAMU,mBAAmB,GAAGX,GAAG,CAACQ,IAAI,CAAC,MAAM;IACvC,MAAM;MAAEI,UAAU;MAAEC;IAAY,CAAC,GAAGC,MAAM;IAC1C,IAAIF,UAAU,KAAKV,KAAK,IAAIW,WAAW,KAAKV,MAAM,EAAE;MAChDD,KAAK,GAAGU,UAAU;MAClBT,MAAM,GAAGU,WAAW;MACpBb,GAAG,CAACU,IAAI,CAACZ,eAAe,CAACI,KAAK,EAAEC,MAAM,CAAC,CAAC;IAC5C;EACJ,CAAC,CAAC;EACF,MAAMY,qBAAqB,GAAGT,QAAQ,CAACU,MAAM,KAAKC,SAAS,GACrDC,QAAQ,CAACC,SAAS,GAClBnB,GAAG,CAACQ,IAAI,CAAC,MAAMR,GAAG,CAACU,IAAI,CAACX,iBAAiB,CAACO,QAAQ,CAACU,MAAM,CAAC,CAAC,CAAC;EAClEhB,GAAG,CAACoB,mBAAmB,CAAC,MAAM;IAC1BnB,GAAG,GAAG,EAAE;IACRG,eAAe,GAAGR,aAAa,CAAC,CAAC;IACjCM,KAAK,GAAGC,MAAM,GAAG,CAAC,CAAC;IACnBI,mBAAmB,CAAC,CAAC;IACrBI,mBAAmB,CAAC,CAAC;IACrBI,qBAAqB,CAAC,CAAC;EAC3B,CAAC,CAAC;EACF,IAAIT,QAAQ,CAACU,MAAM,KAAKC,SAAS,EAAE;IAC/BjB,GAAG,CAACqB,mBAAmB,CAACf,QAAQ,EAAE,kBAAkB,EAAES,qBAAqB,EAAE,KAAK,EAAE,KAAK,CAAC;EAC9F;EACAf,GAAG,CAACsB,MAAM,CAACC,MAAM,CAAChB,mBAAmB,EAAE,CAAC,EAAE,KAAK,CAAC;EAChDP,GAAG,CAACsB,MAAM,CAACC,MAAM,CAACZ,mBAAmB,EAAE,CAAC,EAAE,KAAK,CAAC;AACpD"},"metadata":{},"sourceType":"module"}