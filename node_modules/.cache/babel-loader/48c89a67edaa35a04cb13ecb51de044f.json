{"ast":null,"code":"function wrap(callback, n) {\n  let t = 0;\n  return () => {\n    if (t++ >= n) {\n      t = 0;\n      callback();\n    }\n  };\n}\nexport default class Ticker {\n  constructor(app) {\n    this.app = app;\n    this.timer = null;\n    this.callbacks = [];\n  }\n  /**\n   * @param {Callback} callback - repeated cb\n   * @param {number} n - number of turn skips; ticker have a 30 ms cycle\n   * @param {boolean} useSafe - using safe wrapper to check if app is active\n   * @param {object} thisArg - link to <this>\n   * */\n  attach(callback, n = 0, useSafe = true, thisArg) {\n    if (thisArg) {\n      callback = callback.bind(thisArg);\n    }\n    if (useSafe) {\n      callback = this.app.safe(callback);\n    }\n    this.callbacks.unshift(n ? wrap(callback, n) : callback) - 1;\n  }\n  start() {\n    if (this.timer === null) {\n      this.timer = setInterval(() => this.callbacks.forEach(cb => {\n        if (cb) cb();\n      }), 30);\n    }\n  }\n  stop() {\n    if (this.timer !== null) {\n      clearInterval(this.timer);\n      this.timer = null;\n    }\n  }\n}","map":{"version":3,"names":["wrap","callback","n","t","Ticker","constructor","app","timer","callbacks","attach","useSafe","thisArg","bind","safe","unshift","start","setInterval","forEach","cb","stop","clearInterval"],"sources":["/Users/paramvirrotwal/Observability/website-admin-react-web-app-project/node_modules/@openreplay/tracker/lib/app/ticker.js"],"sourcesContent":["function wrap(callback, n) {\n    let t = 0;\n    return () => {\n        if (t++ >= n) {\n            t = 0;\n            callback();\n        }\n    };\n}\nexport default class Ticker {\n    constructor(app) {\n        this.app = app;\n        this.timer = null;\n        this.callbacks = [];\n    }\n    /**\n     * @param {Callback} callback - repeated cb\n     * @param {number} n - number of turn skips; ticker have a 30 ms cycle\n     * @param {boolean} useSafe - using safe wrapper to check if app is active\n     * @param {object} thisArg - link to <this>\n     * */\n    attach(callback, n = 0, useSafe = true, thisArg) {\n        if (thisArg) {\n            callback = callback.bind(thisArg);\n        }\n        if (useSafe) {\n            callback = this.app.safe(callback);\n        }\n        this.callbacks.unshift(n ? wrap(callback, n) : callback) - 1;\n    }\n    start() {\n        if (this.timer === null) {\n            this.timer = setInterval(() => this.callbacks.forEach((cb) => {\n                if (cb)\n                    cb();\n            }), 30);\n        }\n    }\n    stop() {\n        if (this.timer !== null) {\n            clearInterval(this.timer);\n            this.timer = null;\n        }\n    }\n}\n"],"mappings":"AAAA,SAASA,IAAIA,CAACC,QAAQ,EAAEC,CAAC,EAAE;EACvB,IAAIC,CAAC,GAAG,CAAC;EACT,OAAO,MAAM;IACT,IAAIA,CAAC,EAAE,IAAID,CAAC,EAAE;MACVC,CAAC,GAAG,CAAC;MACLF,QAAQ,CAAC,CAAC;IACd;EACJ,CAAC;AACL;AACA,eAAe,MAAMG,MAAM,CAAC;EACxBC,WAAWA,CAACC,GAAG,EAAE;IACb,IAAI,CAACA,GAAG,GAAGA,GAAG;IACd,IAAI,CAACC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACC,SAAS,GAAG,EAAE;EACvB;EACA;AACJ;AACA;AACA;AACA;AACA;EACIC,MAAMA,CAACR,QAAQ,EAAEC,CAAC,GAAG,CAAC,EAAEQ,OAAO,GAAG,IAAI,EAAEC,OAAO,EAAE;IAC7C,IAAIA,OAAO,EAAE;MACTV,QAAQ,GAAGA,QAAQ,CAACW,IAAI,CAACD,OAAO,CAAC;IACrC;IACA,IAAID,OAAO,EAAE;MACTT,QAAQ,GAAG,IAAI,CAACK,GAAG,CAACO,IAAI,CAACZ,QAAQ,CAAC;IACtC;IACA,IAAI,CAACO,SAAS,CAACM,OAAO,CAACZ,CAAC,GAAGF,IAAI,CAACC,QAAQ,EAAEC,CAAC,CAAC,GAAGD,QAAQ,CAAC,GAAG,CAAC;EAChE;EACAc,KAAKA,CAAA,EAAG;IACJ,IAAI,IAAI,CAACR,KAAK,KAAK,IAAI,EAAE;MACrB,IAAI,CAACA,KAAK,GAAGS,WAAW,CAAC,MAAM,IAAI,CAACR,SAAS,CAACS,OAAO,CAAEC,EAAE,IAAK;QAC1D,IAAIA,EAAE,EACFA,EAAE,CAAC,CAAC;MACZ,CAAC,CAAC,EAAE,EAAE,CAAC;IACX;EACJ;EACAC,IAAIA,CAAA,EAAG;IACH,IAAI,IAAI,CAACZ,KAAK,KAAK,IAAI,EAAE;MACrBa,aAAa,CAAC,IAAI,CAACb,KAAK,CAAC;MACzB,IAAI,CAACA,KAAK,GAAG,IAAI;IACrB;EACJ;AACJ"},"metadata":{},"sourceType":"module"}