"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const observer_js_1 = __importDefault(require("./observer.js"));
const messages_gen_js_1 = require("../messages.gen.js");
class ShadowRootObserver extends observer_js_1.default {
    observe(el) {
        const shRoot = el.shadowRoot;
        const hostID = this.app.nodes.getID(el);
        if (!shRoot || hostID === undefined) {
            return;
        } // log
        this.observeRoot(shRoot, (rootID) => {
            if (rootID === undefined) {
                this.app.debug.error('OpenReplay: Shadow Root was not bound');
                return;
            }
            this.app.send((0, messages_gen_js_1.CreateIFrameDocument)(hostID, rootID));
        });
    }
}
exports.default = ShadowRootObserver;
